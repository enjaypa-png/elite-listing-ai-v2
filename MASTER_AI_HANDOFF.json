{
  "project": {
    "name": "Elite Listing AI",
    "type": "Etsy optimization SaaS",
    "repository": "https://github.com/enjaypa-png/elite-listing-ai-v2",
    "activeBranch": "rebuild-core-workflow",
    "lastCommit": "129970b",
    "version": "1.0",
    "lastUpdated": "2024-11-26T10:00:00Z"
  },
  "techStack": {
    "frontend": "Next.js 15, React 19, TypeScript",
    "backend": "Next.js API Routes, Prisma ORM",
    "database": "PostgreSQL (Supabase)",
    "auth": "Supabase Auth (PKCE flow)",
    "storage": "Supabase Storage",
    "ai": "OpenAI GPT-4o, Anthropic Claude Sonnet 4",
    "payments": "Stripe",
    "hosting": "Vercel",
    "integration": "Etsy OAuth + REST API"
  },
  "criticalRules": [
    "NEVER remove PgBouncer fix (statement_cache_size=0) from /lib/prisma.ts",
    "NEVER use base64 for images (use Supabase Storage)",
    "NEVER create fake data estimates",
    "ALWAYS use design tokens from /design-system/tokens.json",
    "ALWAYS work on rebuild-core-workflow branch (not main)",
    "DATABASE_URL must include ?pgbouncer=true on port 6543"
  ],
  "features": {
    "imageAnalyzer": {
      "status": "stable",
      "files": ["/app/upload/page.tsx", "/app/api/upload/image/route.ts", "/app/api/optimize/image/analyze/route.ts"],
      "complete": ["Upload to Supabase", "OpenAI Vision analysis", "Results display"],
      "missing": ["AI photo enhancement", "Download enhanced images"]
    },
    "rankScoring": {
      "status": "stable",
      "files": ["/app/api/seo/audit/route.ts"],
      "complete": ["285-point algorithm", "Component breakdown", "Priority issues", "Quick wins"],
      "missing": ["Photo score integration", "Attributes analysis", "Category validation"]
    },
    "oneClickOptimizer": {
      "status": "in-progress",
      "files": ["/app/dashboard/optimize-listing/page.tsx"],
      "complete": ["UI", "Validation", "R.A.N.K. analysis on sample data"],
      "missing": ["Etsy listing scraper", "Generate optimized versions", "Export functionality"]
    },
    "storeSync": {
      "status": "not-started",
      "files": ["/lib/etsy-oauth.ts", "/lib/etsy-api.ts"],
      "complete": ["Prisma models", "OAuth helpers exist"],
      "missing": ["OAuth flow UI", "Listing import", "Token management"]
    },
    "listingManager": {
      "status": "not-started",
      "files": ["/app/dashboard/listings/page.tsx"],
      "complete": ["Placeholder page"],
      "missing": ["Everything"]
    }
  },
  "bugs": [
    {
      "id": 1,
      "severity": "high",
      "description": "UI doesn't match landing page quality",
      "solution": "Apply landing page styling to all pages",
      "files": ["/app/dashboard/page.tsx", "/app/dashboard/optimize-listing/page.tsx"]
    },
    {
      "id": 2,
      "severity": "high",
      "description": "One-Click Optimizer uses sample data",
      "solution": "Build Etsy listing scraper",
      "files": ["/app/dashboard/optimize-listing/page.tsx"]
    },
    {
      "id": 3,
      "severity": "medium",
      "description": "Photo enhancement not implemented",
      "solution": "Decide approach and implement or remove feature",
      "files": ["/app/upload/page.tsx"]
    }
  ],
  "roadmap": {
    "immediate": {
      "duration": "7-10 days",
      "tasks": [
        "Polish UI to match landing page",
        "Build Etsy listing scraper",
        "Implement optimization logic",
        "Add copy/export features"
      ]
    },
    "shortTerm": {
      "duration": "3-4 weeks",
      "tasks": [
        "Build Etsy OAuth flow",
        "Implement Store Sync",
        "Create Listing Manager",
        "Integrate Stripe payments"
      ]
    },
    "longTerm": {
      "duration": "60-90 days",
      "tasks": [
        "Chrome Extension",
        "Batch Optimization",
        "Photo Enhancement",
        "Analytics Dashboard",
        "Competitor Analysis (honest version)"
      ]
    }
  },
  "environmentVariables": {
    "critical": [
      "OPENAI_API_KEY",
      "DATABASE_URL (with ?pgbouncer=true)",
      "DIRECT_URL",
      "NEXT_PUBLIC_SUPABASE_URL",
      "NEXT_PUBLIC_SUPABASE_ANON_KEY",
      "SUPABASE_SERVICE_ROLE_KEY",
      "NEXT_PUBLIC_APP_URL"
    ],
    "optional": [
      "ANTHROPIC_API_KEY",
      "STRIPE_SECRET_KEY",
      "STRIPE_WEBHOOK_SECRET",
      "NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY",
      "ETSY_API_KEY",
      "ETSY_CLIENT_SECRET",
      "ETSY_REDIRECT_URI"
    ]
  },
  "etsyApi": {
    "keystring": "5fv9bmd14ydqqx3lnbgcmsih",
    "sharedSecret": "d0yg3nmoqc",
    "rateLimits": {
      "perSecond": 5,
      "perDay": 5000
    },
    "type": "personal",
    "status": "testing-only"
  },
  "nextSteps": [
    "Polish UI to match landing page quality",
    "Build Etsy listing scraper to fetch real data",
    "Implement optimization logic to generate improved versions",
    "Build Store Sync with Etsy OAuth",
    "Create Listing Manager UI"
  ],
  "doNotChange": [
    "/lib/prisma.ts (PgBouncer fix)",
    "/design-system/tokens.json (UI tokens)",
    "/prisma/schema.prisma (without approval)",
    "/legacy/* (backup folder)",
    "Image storage architecture (Supabase only)"
  ],
  "aiWorkflow": {
    "onHandoff": [
      "Read MASTER_AI_HANDOFF.md completely",
      "Clone repo and checkout rebuild-core-workflow",
      "Review last 10 commits",
      "Test current deployment",
      "Identify highest priority task"
    ],
    "afterWork": [
      "Update this document (version, timestamp, status)",
      "Create session summary (AI_SESSION_SUMMARY_DATE.md)",
      "List what changed",
      "List what needs human review",
      "List what next agent should do"
    ]
  }
}
